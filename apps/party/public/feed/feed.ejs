
<link rel="stylesheet" href="../feed/feed.css">
<script type="text/javascript" src="../feed/feed.js"></script>
<script type="text/javascript" src="../feed/feed-api.js"></script>
<%- include('../sidebar/sidebar.ejs') %>
<% const numToWord = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', 'eleven', 'twelve']; %>
<% const AMPM = ['AM', 'PM']; %>

<input id="userId" type="hidden" value="<%= user.id %>"/>

<div id="container" style="width: calc(100% - calc(2 * calc(var(--sidebar-width) + 30px))); margin-left: calc(var(--sidebar-width) + 30px);">
    <div class="feed-container">
        <!-- Main Feed Section -->
        <div class="feed">
            <h2>Available Parties</h2>
            <div class="party-list" id="partyList">
                <div class="loading-GIF-outer">
                    <div class="loading-GIF-inner">
                        <div></div>
                    </div>
                </div>
                <!-- Dynamic party items will load here -->
            </div>
        
        </div>

        <!-- Sidebar Filters -->
        <div class="sidebar-filters">
            <h3>Filters</h3>
            <select id="filter-startDay">
                <option id="monday">Monday</option>
                <option id="tuesday">Tuedsay</option>
                <option id="wednesday">Wednesday</option>
                <option id="thursday">Thursday</option>
                <option id="friday" selected>Friday</option>
                <option id="saturday">Saturday</option>
                <option id="sunday">Sunday</option>
            </select>
            <select id="filter-startTime">
                <% for (let hour = 0; hour < 24; hour++) { %>
                    <% let timeHour = (hour % 12 != 0) ? hour % 12 : 12; %>
                    <option id="<%= numToWord[timeHour] %>"><%= timeHour %>:00 <%= AMPM[Math.floor(hour/12)] %></option>
                    <option id="<%= numToWord[timeHour] %>thirty"><%= timeHour %>:30 <%= AMPM[Math.floor(hour/12)] %></option>
                <% } %>
            </select>
            <!-- <select id="filter-following">
                <option value="all">Following Only</option>
                <option value="yes">Yes</option>
            </select>
            <select id="filter-friends">
                <option value="all">Friends Only</option>
                <option value="yes">Yes</option>
            </select> -->
            <!-- <select id="filter-theme">
                <option value="all">Theme</option>
                <option value="halloween">Halloween</option>
                <option value="beach">Beach</option>
                <option value="formal">Formal</option>
            </select> -->
            <select id="filter-vibes">
                <option value="all">Vibes</option>
            </select>
        </div>
    </div>
</div>